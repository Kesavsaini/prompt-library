---
import type { CollectionEntry } from 'astro:content';

interface Props {
	prompt: CollectionEntry<'prompts'>;
}

const { prompt } = Astro.props;
---

<a href={`/prompts/${prompt.id}/`} class="block group">
	<article class="glass-card h-full p-6 rounded-2xl transition-all duration-300 hover:scale-[1.02] hover:shadow-2xl hover:shadow-brand-primary/10 border border-white/10 hover:border-brand-primary/50 relative overflow-hidden">
		<div class="absolute inset-0 bg-gradient-to-br from-brand-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
		
		<div class="relative z-10 flex flex-col h-full">
			<div class="flex justify-between items-start mb-4">
				<span class="px-3 py-1 text-xs font-semibold rounded-full bg-slate-800 text-brand-secondary border border-slate-700">
					{prompt.data.category}
				</span>
				<time datetime={prompt.data.pubDate.toISOString()} class="text-xs text-slate-500">
					{prompt.data.pubDate.toLocaleDateString('en-us', {
						year: 'numeric',
						month: 'short',
						day: 'numeric',
					})}
				</time>
			</div>

			<h3 class="text-xl font-bold mb-3 text-slate-100 group-hover:text-transparent group-hover:bg-clip-text group-hover:bg-gradient-to-r group-hover:from-brand-primary group-hover:to-brand-secondary transition-all">
				{prompt.data.title}
			</h3>

			<p class="text-slate-400 text-sm mb-6 flex-grow line-clamp-3">
				{prompt.data.description}
			</p>

			<div class="flex flex-wrap gap-2 mt-auto">
				{prompt.data.tags.map((tag) => (
					<span class="text-xs px-2 py-1 rounded-md bg-slate-800/50 text-slate-400 border border-slate-700/50">
						#{tag}
					</span>
				))}
			</div>
		</div>
	</article>
</a>
